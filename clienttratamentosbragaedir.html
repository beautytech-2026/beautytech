<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Editar Cliente - Beauty Salon</title>
<style>
body{
  background:#ffeaf0;
  font-family:Arial;
  padding:40px;
}
.box{
  width:100%;
  max-width:700px;
  margin:auto;
  background:white;
  padding:26px;
  border-radius:14px;
  box-shadow:0 8px 40px rgba(255,0,130,0.18);
}
h2{ color:#e91e63; }

input{
  width:100%; padding:12px;
  border-radius:10px;
  border:1px solid #f7b8d2;
}
button{
  margin-top:12px;
  background:#e91e63;
  border:0;
  padding:12px;
  color:white;
  font-weight:bold;
  width:100%;
  border-radius:10px;
}
.result{
  margin-top:20px;
  padding:20px;
  background:#fff1f7;
  border-radius:10px;
}
.result img{
  width:140px; height:140px;
  object-fit:cover;
  border-radius:12px;
  margin:6px;
  border:2px solid #f9cbe0;
}
</style>
</head>
<body>

<div class="box">
<h2>Pesquisar Cliente</h2>
<input id="searchInput" placeholder="Nome ou Código do Cliente">
<button onclick="searchClient()">Pesquisar</button>

<div id="result" class="result" style="display:none;"></div>
</div>

<script>
const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbwN9mekcXEX4Eo4n6DOqEJMBJur-XywnUTZ-UOa7540oNshPDEAPKHz6QasZchsQllu/exec";

async function searchClient(){
  let q = document.getElementById("searchInput").value;
  if(!q) return;

  const res = await fetch(WEB_APP_URL + "?search=" + encodeURIComponent(q));
  const data = await res.json();

  const box = document.getElementById("result");

  if(data.error){
    box.style.display="block";
    box.innerHTML = "<p>Cliente não encontrado.</p>";
    return;
  }

  let imgs = "";
  if(data.ImageURLs){
    data.ImageURLs.split(",").forEach(url=>{
      imgs += `<img src="${url}">`;
    });
  }

  box.style.display="block";
  box.innerHTML = `
    <h3>${data.Name}</h3>
    <p><b>Código:</b> ${data.ClientCode}</p>
    <p><b>Data:</b> ${data.Timestamp}</p>
    <p><b>Notas:</b> ${data.Notes}</p>
    <div>${imgs}</div>
  `;
}
</script>

</body>
</html>
