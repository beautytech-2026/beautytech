<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulário de Voucher VIP</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn&display=swap" rel="stylesheet">
  <style>
    body {
  background: linear-gradient(to bottom right, #dd0583, #8e2de2);
  font-family: 'Vazirmatn', sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  padding: 30px;
  overflow-x: hidden;
  position: relative;
}

    .container {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border-radius: 16px;
  padding: 30px;
  max-width: 440px;
  width: 100%;
  box-shadow: 0 0 20px #e178f4;
  color: white;
}
    h2 {
      text-align: center;
      margin-bottom: 25px;
    }
    label {
      display: block;
      margin-bottom: 6px;
      font-weight: bold;
    }
    input, button, select {
      width: 100%;
      padding: 10px;
      margin-bottom: 16px;
      border-radius: 8px;
      border: none;
      font-size: 15px;
    }
    input, select {
      background: rgba(255, 255, 255, 0.2);
      color: #c13a8f;
    }
    button {
      background: #c02190;
      color: white;
      font-weight: bold;
      cursor: pointer;
    }
    .slot-button {
      display: inline-block;
      padding: 8px 12px;
      border-radius: 6px;
      margin: 5px 5px 10px 0;
      background: #fff;
      color: #ae6de8;
      cursor: pointer;
      border: none;
    }
    .slot-button.selected {
      background: #d81e6f;
      color: white;
    }
   
.logo {
  margin-top: 10px;
  margin-bottom: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.logo img {
  max-height: 100px;
  height: auto;
  width: auto;
}



.logo img {
  max-height: 200px;
  width: auto;
}

.back-button {
  position: fixed;
  top: 20px;
  left: 20px;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(6px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
  transition: background 0.3s ease;
}

.back-button:hover {
  background: rgba(255, 255, 255, 0.3);
}

.back-button svg {
  width: 24px;
  height: 24px;
}

/* Hamburger button */
.hamburger {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 1001;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.hamburger div {
  width: 30px;
  height: 4px;
  background-color: #fff;
  border-radius: 2px;
}

/* Glass menu container */
.glass-menu {
  position: fixed;
  top: -100%;
  left: 0;
  width: 100%;
  padding: 80px 20px 30px;
  backdrop-filter: blur(15px);
  background: rgba(255, 255, 255, 0.15);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  transition: top 0.5s ease-in-out;
  z-index: 1000;
}

.glass-menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
  text-align: center;
}

.glass-menu li {
  margin-bottom: 20px;
  font-size: 20px;
  color: #fff;
  cursor: pointer;
  font-weight: bold;
}

.glass-menu a {
  color: #fff;
  text-decoration: none;
}

.submenu {
  display: none;
  margin-top: 10px;
}

.submenu li {
  font-size: 16px;
  font-weight: normal;
  margin-top: 5px;
}

/* Show menu */
.glass-menu.open {
  top: 0;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .glass-menu {
    padding-top: 60px;
  }

  .hamburger {
    top: 15px;
    right: 15px;
  }
}
  </style>
  
 
</head>

<body>
  <a href="index.html" class="back-button" title=" voltar">
    <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="10" />
      <polyline points="12 8 8 12 12 16" />
      <line x1="16" y1="12" x2="8" y2="12" />
    </svg>
  </a>

  
 <!-- لوگو در مرکز -->
 <div class="logo">
  <img src="https://i.imgur.com/SXmVbv1.png" alt="Logo" />
</div>
</div>


  <!-- Hamburger Icon -->
  <div class="hamburger" onclick="toggleMenu()">
    <div></div>
    <div></div>
    <div></div>
  </div>
  
  <!-- Drop-down Menu -->
  <div class="glass-menu" id="glassMenu">
    <ul>
      <li onclick="toggleSubMenu(this)">ÉSTETICA CORPORAL
        <ul class="submenu">
  
          <li><a href="programadetox.html">Programa Detox</a></li>
          <li><a href="programaredutor.html">Programa Redutor</a></li>
  
          <li><a href="programamodelador.html">Programa Modelador</a></li>
        </ul>
      </li>
      <li onclick="toggleSubMenu(this)">Capilar
        <ul class="submenu">
  
          <li><a href="Recontruçãocapilar.html">Recontrução Capilar</a></li>
          <li><a href="tratamentocapilar.html">tratamento Capilar</a></li>
  
        </ul>
      </li>
  
      <li><a href="HIFU12.HTML">HIFU 12D</a></li>
  
      <li><a href="unhas.html">UNHAS</a></li>
      <li><a href="bemestar.html">BEM-ESTAR</a></li>
      
      <li><a href="limpezapele.html">LIMPEZA A PELE</a></li>
      <li><a href="voucher.html">Voucher</a></li>
      <li><a href="contacto.html">CONTACTO</a></li>
    </ul>
  </div>
  
  
  <script>
    function toggleMenu() {
      document.getElementById('glassMenu').classList.toggle('open');
    }
  
    function toggleSubMenu(item) {
      const submenu = item.querySelector('.submenu');
      if (submenu) {
        submenu.style.display = submenu.style.display === 'block' ? 'none' : 'block';
      }
    }
  </script>



 
  <div class="container">
    
    <h2>Receber Voucher VIP</h2>
    
    <form id="voucherForm">
      
      <label for="email">Seu e-mail:</label>
      <input type="email" id="email" name="email" required>

      <label for="serviço">Serviço:</label>
<select id="serviço">
  <optgroup label="Cabelos">
    <option>Corte + Brushing</option>
    <option>Progressiva</option>
    <option>Coloração + Brushing</option>
    <option>Hidratação + Brushing</option>
    <option>Selagem ou Botox</option>
    <option>Corte + Brushing</option>
    <option>Tratamento Capilar</option>
    <option>Selante capilar</option>
    <option>Cauterzação capilar</option>
    
  </optgroup>

  <optgroup label="Unhas">
    <option>Manicure + Pedicure gel</option>
    <option>Manicure + Pedicure gelinho</option>
    
  </optgroup>

  <optgroup label="Estética Corporal">
    <option>Massagem com velas</option>
    <option>Massagem com pedras</option>
    <option>Programa Modelador</option>
    <option>Programa Redutor</option>
    <option>Programa Detox</option>
    <option>Depilação a laser</option>
  </optgroup>

  <optgroup label="HIFU 12D">
    <option>Rosto</option>
    <option>Rosto+Papada</option>
    <option>Papada</option>
    <option>Pescoço</option>
    <option>Pescoço e Papada</option>
    <option>Colo/Peito</option>
    <option>Braços</option>
    <option>Barriga</option>
    <option>Flancos</option>
    <option>Barriga + Flancos</option>
    <option>Costas</option>
    <option>Glúteos</option>
    <option>Joelhos</option>
    <option>Coxas</option>
    <option>Perna</option>
  </optgroup>

  <optgroup label="limpeza a pele">
    <option>limpeza a pele</option>
    <option>limpeza a pele profundo</option>
   
    
  </optgroup>
 
</select>

      <label for="clientCode">Código do cliente (opcional):</label>
      <input type="text" id="clientCode" name="clientCode">

      <button type="submit">Receber Voucher</button>
    </form>
    <div id="result"></div>
  </div>

  <script>
    function generateVIPCode() {
      const random = Math.floor(100000 + Math.random() * 900000);
      return "VIP" + random;
    }

    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param) || "";
    }

    document.getElementById("voucherForm").addEventListener("submit", async function(e) {
      e.preventDefault();

      const email = document.getElementById("email").value;
      const clientCode = document.getElementById("clientCode").value;
      const serviço = document.getElementById("serviço").value;

      // از URL گرفته می‌شوند
      const referral = getQueryParam("referral");
      const service = getQueryParam("service");

      const voucherCode = generateVIPCode();

      const formData = {
        email,
        clientCode,
        referral,
        service,
        serviço,
        voucherCode
      };

      const webhookUrl = "https://hook.eu2.make.com/o573tcgwf6xr9id1s2lsv93xn4rwiy0n"; // جایگزین کن

      try {
        const response = await fetch(webhookUrl, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(formData)
        });

        const result = await response.json();

        if (result && result.redirectUrl) {
          // رفتن به لینک پرداخت
          window.location.href = result.redirectUrl;
        } else {
          document.getElementById("result").innerHTML = "<p>Erro: resposta inválida do servidor.</p>";
        }

      } catch (error) {
        document.getElementById("result").textContent = "Erro ao enviar os dados. Por favor, tente novamente.";
      }
    });
  </script>
</body>
</html>
